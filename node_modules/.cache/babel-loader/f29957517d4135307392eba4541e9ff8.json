{"ast":null,"code":"import _slicedToArray from\"C:/Users/PC/Desktop/mobile waiter/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createRef,useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{DeleteFromBag}from'../../redux/action';import Navbar from'../Navbar/Navbar';import{useScreenshot}from'use-react-screenshot';import'./style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Confirm(props){useEffect(function(){var x=0;orderBag.forEach(function(element){x=x+element.Total;});setTot(x);});var sendItem=useSelector(function(state){return state.sendItem;});var orderBag=useSelector(function(state){return state.orderBag;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),Tot=_useState2[0],setTot=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Cap=_useState4[0],setCap=_useState4[1];var _useScreenshot=useScreenshot(),_useScreenshot2=_slicedToArray(_useScreenshot,2),image=_useScreenshot2[0],takeScreenshot=_useScreenshot2[1];var dispatch=useDispatch();var ref=/*#__PURE__*/createRef(null);var getImage=function getImage(){return takeScreenshot(ref.current);};// const Added = () => {\n//     return (\n//     )\n// }\nuseEffect(function(){},[sendItem.addons,orderBag]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light position-fixed w-100\",style:{height:'100vh'},children:[/*#__PURE__*/_jsx(Navbar,{color:\"bg-info\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-light w-100 px-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:sendItem.length!==0?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:image,width:\"100%\",height:\"400px\",className:\"position-absolute\",onContextMenu:\"return false;\",style:{top:\"50px\",zIndex:\"100\"},alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"h2 text-center bg-light w-100 py-4 h-auto\",children:[\"Order List \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"h4\",children:[orderBag.length,\" packs for \\u20A6\",Tot]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",ref:ref,children:orderBag.map(function(_ref,i){var Name=_ref.Name,Phone=_ref.Phone,Room=_ref.Room,Hall=_ref.Hall,Food=_ref.Food,Date=_ref.Date,Time=_ref.Time,Price=_ref.Price,addons=_ref.addons,Total=_ref.Total;var dis=addons.filter(function(x){return x.number!==0;});return/*#__PURE__*/_jsxs(\"div\",{className:\"border-info card shadow col-lg-4 p-3 mx-auto position-relative my-1\",style:{fontFamily:\"open sans\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 position-absolute h6\",style:{right:\"7%\",top:\"3.5px\"},children:i+1}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-danger border rounded position-absolute border m-1\",style:{right:\"1px\",top:\"4px\"},onClick:function onClick(){dispatch(DeleteFromBag(i));},children:\"x\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-bottom h4 pb-2\",children:[\" \",Name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[\"Phone : \",Phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[\"Hostel info : \",Hall,\" room \",Room]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-2\",children:[\"Order : \",Food,\" \\u20A6\",Price,/*#__PURE__*/_jsxs(\"span\",{className:\"\",children:[\" \",dis!==undefined?dis.map(function(_ref2,i){var top=_ref2.top,price=_ref2.price,number=_ref2.number,newprice=_ref2.newprice;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:number}),\"  \",/*#__PURE__*/_jsx(\"span\",{children:top}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20A6\",newprice,\" \"]}),\" \",dis.length-1===i?\".\":\",\"]},i);}):\"You didn't add anything on top\"]}),\" at \",Time,\" \",Date]}),Cap,/*#__PURE__*/_jsxs(\"div\",{className:\"h5\",children:[\"Total :\\u20A6\",Total||\"\"]})]},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 my-4 text-center\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-success btn mx-1 my-2\",onClick:function onClick(){window.location.assign(\"/order\");},children:[\" \",\"<\",\" Add Pack\"]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-success btn \",onClick:getImage,children:[\"Complete Order \\u20A6\",Tot,\" \",\">\"]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"h3 text-center mt-4\",children:\"You have not Made any order\"})})})]});}export default Confirm;","map":{"version":3,"sources":["C:/Users/PC/Desktop/mobile waiter/frontend/src/Components/Confirm/Confirm.jsx"],"names":["React","createRef","useEffect","useState","useDispatch","useSelector","DeleteFromBag","Navbar","useScreenshot","Confirm","props","x","orderBag","forEach","element","Total","setTot","sendItem","state","Tot","Cap","setCap","image","takeScreenshot","dispatch","ref","getImage","current","addons","height","length","top","zIndex","map","i","Name","Phone","Room","Hall","Food","Date","Time","Price","dis","filter","number","fontFamily","right","undefined","price","newprice","window","location","assign"],"mappings":"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","sourcesContent":["import React, { createRef, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { DeleteFromBag } from '../../redux/action';\r\nimport Navbar from '../Navbar/Navbar';\r\nimport { useScreenshot } from 'use-react-screenshot'\r\nimport './style.css'\r\n\r\nfunction Confirm(props) {\r\n    useEffect(() => {\r\n        let x = 0;\r\n\r\n        orderBag.forEach(element => {\r\n            x = x + element.Total\r\n        });\r\n        setTot(x)\r\n    })\r\n    const sendItem = useSelector(state => state.sendItem)\r\n    const orderBag = useSelector(state => state.orderBag)\r\n    const [Tot, setTot] = useState(0)\r\n    const [Cap, setCap] = useState(\"\")\r\n    const [image, takeScreenshot] = useScreenshot()\r\n    const dispatch = useDispatch()\r\n    const ref = createRef(null)\r\n    const getImage = () => takeScreenshot(ref.current)\r\n\r\n    // const Added = () => {\r\n\r\n    //     return (\r\n\r\n    //     )\r\n    // }\r\n    useEffect(() => {\r\n    }, [sendItem.addons, orderBag])\r\n    return (\r\n        <div className=\"bg-light position-fixed w-100\" style={{ height: '100vh' }} >\r\n            <Navbar color=\"bg-info\" />\r\n            <div className=\"bg-light w-100 px-auto\"  >\r\n\r\n                <div className=\"container\" >\r\n                    {sendItem.length !== 0 ?\r\n                        <React.Fragment  >\r\n                            <img src={image} width=\"100%\" height=\"400px\" className=\"position-absolute\" onContextMenu=\"return false;\" style={{ top: \"50px\",  zIndex: \"100\" }} alt=\"\" />\r\n                            <div className=\"h2 text-center bg-light w-100 py-4 h-auto\">Order List <br />\r\n                                <span className=\"h4\">{orderBag.length} packs for &#x20A6;{Tot}</span></div>\r\n\r\n                            <div className=\"w-100\" ref={ref}>\r\n                                {orderBag.map(({ Name, Phone, Room, Hall, Food, Date, Time, Price, addons, Total }, i) => {\r\n\r\n                                    let dis = addons.filter(x => x.number !== 0)\r\n                                    return (\r\n                                        <div key={i}  className=\"border-info card shadow col-lg-4 p-3 mx-auto position-relative my-1\" style={{ fontFamily: \"open sans\" }}>\r\n                                            <div className=\"p-2 position-absolute h6\" style={{ right: \"7%\", top: \"3.5px\" }}>\r\n                                                {i + 1}\r\n                                            </div>\r\n                                            <button className=\"btn-danger border rounded position-absolute border m-1\" style={{ right: \"1px\", top: \"4px\" }}\r\n                                                onClick={() => { dispatch(DeleteFromBag(i)) }}>\r\n                                                x</button>\r\n                                            <div className=\"border-bottom h4 pb-2\"> {Name}</div>\r\n                                            <div className=\"\">Phone : {Phone}</div>\r\n                                            <div className=\"\">Hostel info : {Hall} room {Room}</div>\r\n                                            <div className=\"pt-2\">Order : {Food} &#x20A6;{Price}\r\n\r\n                                                <span className=\"\"> {dis !== undefined ? dis.map(({ top, price, number, newprice }, i) => {\r\n                                                    return (\r\n                                                        <React.Fragment key={i}>\r\n                                                            <span>{number}</span>  <span>{top}</span> <span>&#x20A6;{newprice} </span> {dis.length - 1 === i ? \".\" : \",\"}\r\n                                                        </React.Fragment>\r\n                                                    )\r\n                                                }) : \"You didn't add anything on top\"}</span> at {Time} {Date}\r\n                                            </div>\r\n                                            {Cap}\r\n                                            <div className=\"h5\">Total :&#x20A6;{Total || \"\"}</div>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            <div className=\"w-100 my-4 text-center\">\r\n                                <button className=\"btn-success btn mx-1 my-2\" onClick={() => { window.location.assign(\"/order\") }}> {\"<\"} Add Pack</button> <br />\r\n                                <button className=\"btn-success btn \" onClick={getImage}>Complete Order &#x20A6;{Tot} {\">\"}</button>\r\n                            </div>\r\n                        </React.Fragment>\r\n                        : <div className=\"h3 text-center mt-4\">You have not Made any order</div>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Confirm;"]},"metadata":{},"sourceType":"module"}