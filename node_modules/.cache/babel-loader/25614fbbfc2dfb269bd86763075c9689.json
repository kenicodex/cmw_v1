{"ast":null,"code":"import _toConsumableArray from\"C:/Users/PC/Desktop/mobile waiter/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"C:/Users/PC/Desktop/mobile waiter/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/PC/Desktop/mobile waiter/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/PC/Desktop/mobile waiter/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./style.css';import Navbar from'../Navbar/Navbar';import{food,Halls}from'../Extras/check';import{useDispatch}from'react-redux';import{addToOrderBag,sendItem}from'../../redux/action';import Message from'../Extras/Message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Order(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setstate=_useState2[1];var _useState3=useState([{top:\"Meat\",price:100,number:0,newprice:0},{top:\"Rounded fish\",price:200,number:0,newprice:0},{top:\"Titus Fish\",price:200,number:0,newprice:0},{top:\"Egg\",price:70,number:0,newprice:0},{top:\"Kpomo\",price:50,number:0,newprice:0},{top:\"Turkey\",price:1000,number:0,newprice:0},{top:\"Plantain\",price:50,number:0,newprice:0},{top:\"Coles'law\",price:100,number:0,newprice:0},{top:\"whte beans\",price:100,number:0,newprice:0}]),_useState4=_slicedToArray(_useState3,2),tops=_useState4[0],settops=_useState4[1];var dispatch=useDispatch();var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),msg=_useState6[0],setmsg=_useState6[1];var _useState7=useState(\"--Select Hall--\"),_useState8=_slicedToArray(_useState7,2),Hall=_useState8[0],setHall=_useState8[1];var _useState9=useState(250),_useState10=_slicedToArray(_useState9,2),quantity=_useState10[0],setquantity=_useState10[1];var _useState11=useState('--Select Food Item--'),_useState12=_slicedToArray(_useState11,2),Food=_useState12[0],setFood=_useState12[1];var _useState13=useState(250),_useState14=_slicedToArray(_useState13,2),Total=_useState14[0],setTotal=_useState14[1];// const [Things, setThings] = useState([])\nvar current=new Date();useEffect(function(){if(quantity<250||quantity>500){setquantity(quantity);}if(state.Room<0){setstate(function(state){return _objectSpread(_objectSpread({},state),{},{Room:0});});}},[quantity,state.Room]);var writ=function writ(e){setstate(function(state){return _objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value));});};var in_ds=function in_ds(sign,i){var newArr=_toConsumableArray(tops);if(sign===\"+\"&&newArr[i].number<10){newArr[i].number=newArr[i].number+1;newArr[i].newprice=newArr[i].price*newArr[i].number;setTotal(Total+newArr[i].price);}else if(sign===\"-\"&&newArr[i].number>0){newArr[i].number=newArr[i].number-1;newArr[i].newprice=newArr[i].price*newArr[i].number;setTotal(Total-newArr[i].price);}// if (newArr[i].number > 9) {\n//     newArr[i].number = newArr[i].number -1;\n//     settops(newArr)\n// }else if (newArr[i].number === -1){\n//     newArr[i].number = newArr[i].number +1;\nsettops(newArr);// }\n};var submit=function submit(){setstate(function(state){return _objectSpread(_objectSpread({},state),{},{Food:Food});});var Name=state.Name,Room=state.Room,Phone=state.Phone;var condition=Name===undefined||Phone===undefined||Room===undefined||Name.trim()===''||Phone.trim()===''||Room.trim()==='';if(condition){setmsg(/*#__PURE__*/_jsx(Message,{message:\"Please fill in the fields\",status:\"error\"}));}else{setmsg(/*#__PURE__*/_jsx(Message,{message:\"Order added to bag\",status:\"success\"}));settops(tops.filter(function(x){return x.number!==0;}));var value={Name:Name,Phone:Phone,Price:quantity,Room:Room,Hall:Hall,Food:Food,Date:current.toLocaleDateString(),Time:current.toLocaleTimeString(),addons:tops,Total:Total+100};dispatch(sendItem(value));dispatch(addToOrderBag(value));window.location.assign(\"/confirm\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light\",style:{fontFamily:\"-moz-initial\"},children:[/*#__PURE__*/_jsx(Navbar,{color:\"bg-info\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container position-relative\",children:/*#__PURE__*/_jsxs(\"div\",{action:\"\",className:\"col-lg-6 m-auto p-2 border position-relative bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h3 text-center\",style:{fontFamily:\"-moz-initial\"},children:[\"Complete this form to place your order \",state.Date,\"  \",state.Time,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[\"Make orders with us and get your order under 1 hour \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"h5\",children:[\" Total :\\u20A6\",Total]}),\" +  \\u20A6100 delivery\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:msg}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input my-2 rounded py-1 px-2 border\",placeholder:\"Name\",value:state.Name,name:\"Name\",onChange:function onChange(e){writ(e);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"input my-2 rounded py-1 px-2 border\",placeholder:\"Phone\",value:state.Phone,name:\"Phone\",onChange:function onChange(e){writ(e);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-shk mt-4 shadow border text-center mx-auto rounded py-2 bg-info text-white \",style:{right:\"2%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-bottom h4 pb-2\",children:[Hall,\" Room \",state.Room]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"m-auto w-50 bg-light\",children:Halls.map(function(x,i){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){setHall(x+\" Hall\");},className:\"text-center px-2  text-\".concat(Hall===x+\" Hall\"?\"info\":\"white\",\" bg-\").concat(Hall===x+\" Hall\"?\"white\":\"info\"),style:{cursor:\"pointer\",zIndex:\"100\"},children:[x,\"  Hall  \"]},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto w-25\",children:[\" Room No.\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"input my-2 rounded py-1 px-2 border\",max:\"500\",placeholder:\"Rm No.\",value:state.Room,name:\"Room\",onChange:function onChange(e){writ(e);}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"posotion-relative w-shk shadow border my-4 mx-auto text-center bg-info text-white py-1 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h4\",children:[\" \",Food,\" \\u20A6\",quantity]}),\" \",/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"m-auto w-50 bg-info text-white\",children:food.map(function(x,i){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){setFood(x);},className:\"text-center px-2 text-\".concat(Food===x?\"info\":\"white\",\" bg-\").concat(Food===x?\"white\":\"info\"),ey:i,style:{cursor:\"pointer\",zIndex:\"100\"},children:[x,\"  \"]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-1 m-2  d-flex\",style:{height:\"30px\"},children:[\"Price :\",/*#__PURE__*/_jsx(\"div\",{className:\"px-2 h-100\",style:{cursor:'pointer'},onClick:function onClick(){if(quantity>250){setquantity(quantity-50);setTotal(Total-50);}},children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-1\",children:quantity}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 h-100\",style:{cursor:'pointer'},onClick:function onClick(){if(quantity<600){setquantity(quantity+50);setTotal(Total+50);}},children:\"+\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"posotion-relative w-shk shadow text-center border my-1 mx-auto text-center p-2 jumbotron bg-info text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pl-3\",children:tops.map(function(_ref,i){var top=_ref.top,price=_ref.price,number=_ref.number,newprice=_ref.newprice;return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex border-bottom pb-1 mt-1 w-100  bg-info\",style:{height:\"auto\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"Food\",value:state.Food,onChange:function onChange(e){writ(e);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 pt-2\",children:[top,\" \\u20A6\",price,\" | \\u20A6\",newprice,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 d-flex\",style:{height:\"30px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-2 border ml-1 bg-white text-dark  pt-1 rounded-left \",style:{cursor:\"pointer\"},onClick:function onClick(){in_ds(\"-\",i);},children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border-top border-bottom px-2 bg-white text-dark  pt-1 \",children:number}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 border mr-1 bg-white text-dark  pt-1 rounded-right\",style:{cursor:\"pointer\"},onClick:function onClick(){in_ds(\"+\",i);},children:\"+\"})]})]},i);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-center h4\",children:[\"Total :\\u20A6\",Total+100]}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn border btn-success w-25\",onClick:function onClick(){submit();},children:\" Place Order\"})})]})})]});}export default Order;","map":{"version":3,"sources":["C:/Users/PC/Desktop/mobile waiter/frontend/src/Components/Order/Order.jsx"],"names":["React","useEffect","useState","Navbar","food","Halls","useDispatch","addToOrderBag","sendItem","Message","Order","props","state","setstate","top","price","number","newprice","tops","settops","dispatch","msg","setmsg","Hall","setHall","quantity","setquantity","Food","setFood","Total","setTotal","current","Date","Room","writ","e","target","name","value","in_ds","sign","i","newArr","submit","Name","Phone","condition","undefined","trim","filter","x","Price","toLocaleDateString","Time","toLocaleTimeString","addons","window","location","assign","fontFamily","right","map","cursor","zIndex","height","width","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './style.css'\r\nimport Navbar from '../Navbar/Navbar';\r\nimport { food, Halls, } from '../Extras/check';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addToOrderBag, sendItem } from '../../redux/action';\r\nimport Message from '../Extras/Message';\r\n\r\nfunction Order(props) {\r\n    const [state, setstate] = useState({\r\n    })\r\n    const [tops, settops] = useState([\r\n        { top: \"Meat\", price: 100, number: 0, newprice: 0 },\r\n        { top: \"Rounded fish\", price: 200, number: 0, newprice: 0 },\r\n        { top: \"Titus Fish\", price: 200, number: 0, newprice: 0 },\r\n        { top: \"Egg\", price: 70, number: 0, newprice: 0 },\r\n        { top: \"Kpomo\", price: 50, number: 0, newprice: 0 },\r\n        { top: \"Turkey\", price: 1000, number: 0, newprice: 0 },\r\n        { top: \"Plantain\", price: 50, number: 0, newprice: 0 },\r\n        { top: \"Coles'law\", price: 100, number: 0, newprice: 0 },\r\n        { top: \"whte beans\", price: 100, number: 0, newprice : 0 }\r\n    ])\r\n    const dispatch = useDispatch()\r\n    const [msg, setmsg] = useState(\"\")\r\n    const [Hall, setHall] = useState(\"--Select Hall--\")\r\n    const [quantity, setquantity] = useState(250)\r\n    const [Food, setFood] = useState('--Select Food Item--')\r\n    const [Total, setTotal] = useState(250)\r\n    // const [Things, setThings] = useState([])\r\n    var current = new Date();\r\n    useEffect(() => {\r\n        if (quantity < 250 || quantity > 500) {\r\n            setquantity(quantity)\r\n        }\r\n        if (state.Room < 0) {\r\n            setstate(state => ({ ...state, Room: 0 }))\r\n        }\r\n    }, [quantity,state.Room ])\r\n    const writ = (e) => {\r\n        setstate(state => ({ ...state, [e.target.name]: e.target.value }))\r\n    }\r\n    const in_ds = (sign, i) => {\r\n        let newArr = [...tops]\r\n        if (sign === \"+\" && newArr[i].number < 10) {\r\n            newArr[i].number = newArr[i].number + 1\r\n            newArr[i].newprice = newArr[i].price * newArr[i].number;\r\n            setTotal(Total + newArr[i].price )\r\n        } else if (sign === \"-\" && newArr[i].number > 0) {\r\n            newArr[i].number = newArr[i].number - 1\r\n            newArr[i].newprice = newArr[i].price * newArr[i].number;\r\n            setTotal(Total - newArr[i].price )\r\n        }\r\n        // if (newArr[i].number > 9) {\r\n        //     newArr[i].number = newArr[i].number -1;\r\n        //     settops(newArr)\r\n        // }else if (newArr[i].number === -1){\r\n        //     newArr[i].number = newArr[i].number +1;\r\n            settops(newArr)\r\n        // }\r\n    }\r\n    const submit = () => {\r\n        setstate(state => ({ ...state, Food: Food }))\r\n        const { Name, Room, Phone } = state\r\n        let condition = (Name === undefined || Phone === undefined || Room === undefined || Name.trim() === '' || Phone.trim() === '' || Room.trim() === '');\r\n        if (condition) {\r\n            setmsg(<Message message=\"Please fill in the fields\" status=\"error\" />)\r\n        } else {\r\n            setmsg(<Message message=\"Order added to bag\" status=\"success\" />)\r\n            settops(tops.filter(x => (x.number !== 0))) \r\n            let value = {\r\n                Name: Name,\r\n                Phone: Phone,\r\n                Price : quantity,\r\n                Room: Room,\r\n                Hall:Hall,\r\n                Food : Food,\r\n                Date : current.toLocaleDateString(),\r\n                Time :current.toLocaleTimeString(),\r\n                addons : tops,\r\n                Total : Total + 100\r\n            }\r\n            dispatch(sendItem(value))\r\n            dispatch(addToOrderBag(value))\r\n            window.location.assign(\"/confirm\")\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"bg-light\"  style={{fontFamily:\"-moz-initial\"}}>\r\n            <Navbar color=\"bg-info\"/>\r\n            <div className=\"container position-relative\">\r\n                <div action=\"\" className=\"col-lg-6 m-auto p-2 border position-relative bg-white\">\r\n                    <div className=\"h3 text-center\" style={{fontFamily:\"-moz-initial\"}}>Complete this form to place your order {state.Date}  {state.Time} </div>\r\n                    <div className=\"\">\r\n                        Make orders with us and get your order under 1 hour <br/>\r\n                       <span className=\"h5\"> Total :&#x20A6;{Total}</span> +  &#x20A6;100 delivery\r\n                    </div>\r\n                    <div className=\"\">{msg}</div>\r\n                    <div className=\"\">\r\n                        <input type=\"text\" className=\"input my-2 rounded py-1 px-2 border\" placeholder=\"Name\" value={state.Name} name=\"Name\" onChange={(e) => { writ(e) }} />\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <input type=\"tel\" className=\"input my-2 rounded py-1 px-2 border\" placeholder=\"Phone\" value={state.Phone} name=\"Phone\" onChange={(e) => { writ(e) }} />\r\n                    </div>\r\n\r\n                    <div className=\"w-shk mt-4 shadow border text-center mx-auto rounded py-2 bg-info text-white \" style={{ right: \"2%\" }}>\r\n                        <div className=\"border-bottom h4 pb-2\">{Hall} Room {state.Room}</div>\r\n                        <div className=\"d-flex\">\r\n                            <div className=\"m-auto w-50 bg-light\">\r\n                                {Halls.map((x,i )=> {\r\n                                    return (\r\n                                        <div onClick={() => { setHall(x + \" Hall\") }} className={`text-center px-2  text-${Hall === x + \" Hall\" ? \"info\" : \"white\"} bg-${Hall === x + \" Hall\" ? \"white\" : \"info\"}`} key={i}\r\n                                            style={{ cursor: \"pointer\", zIndex: \"100\" }}>{x}  Hall  </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            <div className=\"m-auto w-25\"> Room No.\r\n                                <input type=\"number\" className=\"input my-2 rounded py-1 px-2 border\" max=\"500\" placeholder=\"Rm No.\" value={state.Room} name=\"Room\" onChange={(e) => { writ(e) }} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"posotion-relative w-shk shadow border my-4 mx-auto text-center bg-info text-white py-1 rounded\">\r\n                       <div className=\"h4\"> {Food} &#x20A6;{quantity}</div> <hr />\r\n                        <div className=\"d-flex\">\r\n                            <div className=\"m-auto w-50 bg-info text-white\">\r\n                                {food.map((x,i) => {\r\n                                    return (\r\n                                        <div onClick={() => { setFood(x) }} className={`text-center px-2 text-${Food === x? \"info\" : \"white\" } bg-${Food === x? \"white\" : \"info\" }`} ey={i}\r\n                                            style={{ cursor: \"pointer\", zIndex: \"100\" }}>{x}  </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            <div className=\"border rounded p-1 m-2  d-flex\" style={{ height: \"30px\" }}>\r\n                                Price :\r\n                                <div className=\"px-2 h-100\" style={{ cursor: 'pointer' }} onClick={() => {\r\n                                    if (quantity > 250) {\r\n                                        setquantity(quantity - 50)\r\n                                        setTotal(Total - 50)\r\n                                    }\r\n                                }}>-</div>\r\n                                <div className=\"px-1\">\r\n                                    {quantity}\r\n                                </div>\r\n                                <div className=\"px-2 h-100\" style={{ cursor: 'pointer' }} onClick={() => {\r\n                                    if (quantity < 600) {\r\n                                        setquantity(quantity + 50)\r\n                                        setTotal(Total + 50)\r\n                                    }\r\n                                }}>+</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"posotion-relative w-shk shadow text-center border my-1 mx-auto text-center p-2 jumbotron bg-info text-white\">\r\n                        <div className=\"pl-3\">\r\n                            {tops.map(({ top, price, number, newprice }, i) => {\r\n                                return (\r\n                                    <div className=\"d-flex border-bottom pb-1 mt-1 w-100  bg-info\" style={{ height: \"auto\" }} key={i}>\r\n                                    <input type=\"hidden\" name=\"Food\" value={state.Food} onChange={(e)=>{writ(e)}}/>\r\n                                        <div className=\"w-50 pt-2\">{top} &#x20A6;{price} | &#x20A6;{newprice} </div>\r\n                                        <div className=\"w-50 d-flex\" style={{height:\"30px\"}}>\r\n                                            <div className=\"px-2 border ml-1 bg-white text-dark  pt-1 rounded-left \" style={{ cursor: \"pointer\" }} onClick={() => { in_ds(\"-\", i) }}>-</div>\r\n                                            <div className='border-top border-bottom px-2 bg-white text-dark  pt-1 '>{number}</div>\r\n                                            <div className=\"px-2 border mr-1 bg-white text-dark  pt-1 rounded-right\" style={{ cursor: \"pointer\" }} onClick={() => { in_ds(\"+\", i) }}>+</div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })} \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"w-100 text-center h4\">\r\n                    Total :&#x20A6;{Total + 100}\r\n                    </div>\r\n                    <div style={{ width: \"100%\", textAlign: \"center\" }}>\r\n                        <button className=\"btn border btn-success w-25\" onClick={() => { submit() }}> Place Order</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Order;"]},"metadata":{},"sourceType":"module"}