{"ast":null,"code":"import React from'react';import{usePaystackPayment}from'react-paystack';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Pay(props){var config={reference:new Date().getTime(),email:\"user@example.com\",amount:props.a*100,publicKey:'pk_live_da4904115764c17480712876b051bb0352baa58b'};for(var i=0;i<props.bag.length;i++){var element=props.bag[i];// console.log(element.addons[0].filter(x => x !== 0));\nfetch('',{method:\"post\",body:JSON.stringify(element),headers:{'Content-Type':'application/json'}});}var onSuccess=function onSuccess(reference){fetch('',{method:\"post\",body:\"\",headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(res){return res.data;});};var onClose=function onClose(){};var PaystackHookExample=function PaystackHookExample(props){var initializePayment=usePaystackPayment(config);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success\",onClick:function onClick(){initializePayment(onSuccess,onClose);},children:[\"Complete Order \",props.a,\" \"]})});};localStorage.setItem(\"amount\",props.a);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(PaystackHookExample,{a:props.a})});}export default Pay;","map":{"version":3,"sources":["C:/Users/PC/Desktop/mobile waiter/frontend/src/Components/Confirm/paystack.js"],"names":["React","usePaystackPayment","Pay","props","config","reference","Date","getTime","email","amount","a","publicKey","i","bag","length","element","fetch","method","body","JSON","stringify","headers","onSuccess","then","res","json","data","onClose","PaystackHookExample","initializePayment","localStorage","setItem"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gBAAnC,C,wFAEA,QAASC,CAAAA,GAAT,CAAaC,KAAb,CAAoB,CAChB,GAAMC,CAAAA,MAAM,CAAG,CACXC,SAAS,CAAG,GAAIC,CAAAA,IAAJ,EAAD,CAAaC,OAAb,EADA,CAEXC,KAAK,CAAE,kBAFI,CAGXC,MAAM,CAAEN,KAAK,CAACO,CAAN,CAAU,GAHP,CAIXC,SAAS,CAAE,kDAJA,CAAf,CAMA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGT,KAAK,CAACU,GAAN,CAAUC,MAA9B,CAAsCF,CAAC,EAAvC,CAA2C,CACvC,GAAMG,CAAAA,OAAO,CAAGZ,KAAK,CAACU,GAAN,CAAUD,CAAV,CAAhB,CACA;AACAI,KAAK,CAAC,EAAD,CAAK,CACNC,MAAM,CAAE,MADF,CAENC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeL,OAAf,CAFA,CAGNM,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAHH,CAAL,CAAL,CAKH,CACD,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACjB,SAAD,CAAe,CAE7BW,KAAK,CAAC,EAAD,CAAK,CACNC,MAAM,CAAE,MADF,CAENC,IAAI,CAAE,EAFA,CAGNG,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAHH,CAAL,CAAL,CAKKE,IALL,CAKU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EALb,EAMKF,IANL,CAMU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACE,IAAR,EANb,EAOH,CATD,CAUA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACrB,CADD,CAGA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACzB,KAAD,CAAW,CACnC,GAAM0B,CAAAA,iBAAiB,CAAG5B,kBAAkB,CAACG,MAAD,CAA5C,CACA,mBACI,kCACI,gBAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,kBAAM,CAC/CyB,iBAAiB,CAACP,SAAD,CAAYK,OAAZ,CAAjB,CACH,CAFD,6BAEmBxB,KAAK,CAACO,CAFzB,OADJ,EADJ,CAOH,CATD,CAUAoB,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B5B,KAAK,CAACO,CAArC,EACA,mBACI,YAAK,SAAS,CAAC,KAAf,uBACI,KAAC,mBAAD,EAAqB,CAAC,CAAEP,KAAK,CAACO,CAA9B,EADJ,EADJ,CAKH,CAED,cAAeR,CAAAA,GAAf","sourcesContent":["import React from 'react';\r\nimport { usePaystackPayment } from 'react-paystack';\r\n\r\nfunction Pay(props) {\r\n    const config = {\r\n        reference: (new Date()).getTime(),\r\n        email: \"user@example.com\",\r\n        amount: props.a * 100,\r\n        publicKey: 'pk_live_da4904115764c17480712876b051bb0352baa58b',\r\n    };\r\n    for (let i = 0; i < props.bag.length; i++) {\r\n        const element = props.bag[i];\r\n        // console.log(element.addons[0].filter(x => x !== 0));\r\n        fetch('', {\r\n            method: \"post\",\r\n            body: JSON.stringify(element),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        })\r\n    }\r\n    const onSuccess = (reference) => {\r\n\r\n        fetch('', {\r\n            method: \"post\",\r\n            body: \"\",\r\n            headers: { 'Content-Type': 'application/json' }\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => res.data)\r\n    };\r\n    const onClose = () => {\r\n    }\r\n\r\n    const PaystackHookExample = (props) => {\r\n        const initializePayment = usePaystackPayment(config);\r\n        return (\r\n            <div >\r\n                <button className=\"btn btn-success\" onClick={() => {\r\n                    initializePayment(onSuccess, onClose)\r\n                }}>Complete Order {props.a} </button>\r\n            </div>\r\n        );\r\n    };\r\n    localStorage.setItem(\"amount\", props.a)\r\n    return (\r\n        <div className=\"App\">\r\n            <PaystackHookExample a={props.a} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pay;"]},"metadata":{},"sourceType":"module"}