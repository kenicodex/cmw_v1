{"ast":null,"code":"import _toConsumableArray from\"C:/Users/PC/Desktop/mobile waiter/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"C:/Users/PC/Desktop/mobile waiter/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/PC/Desktop/mobile waiter/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/PC/Desktop/mobile waiter/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./style.css';import Navbar from'../Navbar/Navbar';import{food,Halls}from'../Extras/check';import{useDispatch}from'react-redux';import{addToOrderBag,sendItem}from'../../redux/action';import Message from'../Extras/Message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Order(props){var _useState=useState({// Name: '',\n// Phone: \"\",\n// Room: \"\",\n// Hall: \"\",\n// Food: '',\n// Date: \"\",\n// Time: ''\n}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setstate=_useState2[1];var _useState3=useState([{top:\"Meat\",price:100,number:0,newprice:0},{top:\"Rounded fish\",price:200,number:0,newprice:0},{top:\"Titus Fish\",price:200,number:0,newprice:0},{top:\"Egg\",price:70,number:0,newprice:0},{top:\"Kpomo\",price:50,number:0,newprice:0},{top:\"Turkey\",price:1000,number:0,newprice:0},{top:\"Plantain\",price:50,number:0,newprice:0}]),_useState4=_slicedToArray(_useState3,2),tops=_useState4[0],settops=_useState4[1];var dispatch=useDispatch();var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),msg=_useState6[0],setmsg=_useState6[1];var _useState7=useState(\"--Select Hall--\"),_useState8=_slicedToArray(_useState7,2),Hall=_useState8[0],setHall=_useState8[1];var _useState9=useState(250),_useState10=_slicedToArray(_useState9,2),quantity=_useState10[0],setquantity=_useState10[1];var _useState11=useState('--Select Food Item--'),_useState12=_slicedToArray(_useState11,2),Food=_useState12[0],setFood=_useState12[1];// const [ontop, setontop] = useState([])\n// const [Total, setTotal] = useState(\"\")\n// const [Things, setThings] = useState([])\nvar current=new Date();useEffect(function(){if(quantity<250||quantity>500){setquantity(quantity);}// setstate(state => ({ ...state, Food: Food }))\n// setstate(state => ({ ...state, Hall: Hall }))\n// setstate(state => ({ ...state, Date: current.toLocaleDateString() }))\n// setstate(state => ({ ...state, Time: current.toLocaleTimeString() }))\n// setstate(state => ({ ...state, Price: quantity }))\n// setstate(state => ({ ...state, addons: ontop }) )\n},[quantity]);var writ=function writ(e){setstate(function(state){return _objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value));});};var in_ds=function in_ds(sign,i){var newArr=_toConsumableArray(tops);if(newArr[i].number<10){if(sign===\"+\"){newArr[i].number=newArr[i].number+1;newArr[i].newprice=newArr[i].price*newArr[i].number;}else{newArr[i].number=newArr[i].number-1;newArr[i].newprice=newArr[i].price*newArr[i].number;}settops(newArr);}};var submit=function submit(){setstate(function(state){return _objectSpread(_objectSpread({},state),{},{Food:Food});});var Name=state.Name,Room=state.Room,Phone=state.Phone;var condition=Name===undefined||Phone===undefined||Room===undefined||Name.trim()===''||Phone.trim()===''||Room.trim()==='';if(condition){setmsg(/*#__PURE__*/_jsx(Message,{message:\"Please fill in the fields\",status:\"error\"}));}else{setmsg(/*#__PURE__*/_jsx(Message,{message:\"Order added to bag\",status:\"success\"}));settops(tops.filter(function(x){return x.number!==0;}));alert(tops.length);// let value = [quantity,Food,Hall,ontop,current.toLocaleDateString() ]\n// value.forEach(element => {\n//     setThings([...Things,element])\nvar value={Name:Name,Phone:Phone,Price:quantity,Room:Room,Hall:Hall,Food:Food,Date:current.toLocaleDateString(),Time:current.toLocaleTimeString(),addons:tops};// });\nconsole.log(value);dispatch(sendItem(value));dispatch(addToOrderBag(value));window.location.assign(\"/confirm\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container position-relative\",children:/*#__PURE__*/_jsxs(\"div\",{action:\"\",className:\"col-lg-6 m-auto p-2 border position-relative bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h3 text-center\",children:[\"Complete this form to place your order \",state.Date,\"  \",state.Time,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:\"Make orders with us and get your order under 1 hour\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:msg}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input my-2 rounded py-1 px-2 border\",placeholder:\"Name\",value:state.Name,name:\"Name\",onChange:function onChange(e){writ(e);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"input my-2 rounded py-1 px-2 border\",placeholder:\"Phone\",value:state.Phone,name:\"Phone\",onChange:function onChange(e){writ(e);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-shk border text-center  my-1 mx-auto\",style:{right:\"2%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-bottom\",children:[Hall,\" Room \",state.Room]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"m-auto w-50\",children:Halls.map(function(x,i){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){setHall(x+\" Hall\");},className:\"text-center px-2 bg-\".concat(Hall===x+\" Hall\"?\"success\":\"white\"),style:{cursor:\"pointer\",zIndex:\"100\"},children:[x,\"  Hall  \"]},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto w-25\",children:[\" Room\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"input my-2 rounded py-1 px-2 border\",max:\"500\",placeholder:\"Rm No.\",value:state.Room,name:\"Room\",onChange:function onChange(e){writ(e);}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"posotion-relative w-shk border my-1 mx-auto text-center\",children:[Food,\" \\u20A6\",quantity,\" \",/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"m-auto w-50\",children:food.map(function(x,i){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){setFood(x);},className:\"text-center px-2 bg-\".concat(Food===x?\"success\":\"white\"),style:{cursor:\"pointer\",zIndex:\"100\"},children:[x,\"  \"]},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border m-2  d-flex\",style:{height:\"30px\"},children:[\"Price :\",/*#__PURE__*/_jsx(\"div\",{className:\"px-2 h-100\",style:{cursor:'pointer'},onClick:function onClick(){if(quantity>250){setquantity(quantity-50);}},children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-1\",children:quantity}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 h-100\",style:{cursor:'pointer'},onClick:function onClick(){if(quantity<600){setquantity(quantity+50);}},children:\"+\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"posotion-relative w-shk border my-1 mx-auto text-center p-2\",children:/*#__PURE__*/_jsx(\"div\",{children:tops.map(function(_ref,i){var top=_ref.top,price=_ref.price,number=_ref.number,newprice=_ref.newprice;return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mt-1 w-100\",style:{height:\"40px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"Food\",value:state.Food,onChange:function onChange(e){writ(e);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 pt-2\",children:[top,\" \\u20A6\",price,\" | \\u20A6\",newprice,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 d-flex  pt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-2 border ml-1\",style:{cursor:\"pointer\"},onClick:function onClick(){in_ds(\"-\",i);},children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border-top border-bottom px-2\",children:number}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 border mr-1\",style:{cursor:\"pointer\"},onClick:function onClick(){in_ds(\"+\",i);},children:\"+\"})]})]},i);})})}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn border btn-success\",onClick:function onClick(){submit();},children:\" Place Order\"})})]})})]});}export default Order;","map":{"version":3,"sources":["C:/Users/PC/Desktop/mobile waiter/frontend/src/Components/Order/Order.jsx"],"names":["React","useEffect","useState","Navbar","food","Halls","useDispatch","addToOrderBag","sendItem","Message","Order","props","state","setstate","top","price","number","newprice","tops","settops","dispatch","msg","setmsg","Hall","setHall","quantity","setquantity","Food","setFood","current","Date","writ","e","target","name","value","in_ds","sign","i","newArr","submit","Name","Room","Phone","condition","undefined","trim","filter","x","alert","length","Price","toLocaleDateString","Time","toLocaleTimeString","addons","console","log","window","location","assign","right","map","cursor","zIndex","height","width","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './style.css'\r\nimport Navbar from '../Navbar/Navbar';\r\nimport { food, Halls, } from '../Extras/check';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addToOrderBag, sendItem } from '../../redux/action';\r\nimport Message from '../Extras/Message';\r\n\r\nfunction Order(props) {\r\n    const [state, setstate] = useState({\r\n        // Name: '',\r\n        // Phone: \"\",\r\n        // Room: \"\",\r\n        // Hall: \"\",\r\n        // Food: '',\r\n        // Date: \"\",\r\n        // Time: ''\r\n    })\r\n    const [tops, settops] = useState([\r\n        { top: \"Meat\", price: 100, number: 0, newprice: 0 },\r\n        { top: \"Rounded fish\", price: 200, number: 0, newprice: 0 },\r\n        { top: \"Titus Fish\", price: 200, number: 0, newprice: 0 },\r\n        { top: \"Egg\", price: 70, number: 0, newprice: 0 },\r\n        { top: \"Kpomo\", price: 50, number: 0, newprice: 0 },\r\n        { top: \"Turkey\", price: 1000, number: 0, newprice: 0 },\r\n        { top: \"Plantain\", price: 50, number: 0, newprice: 0 }\r\n    ])\r\n    const dispatch = useDispatch()\r\n    const [msg, setmsg] = useState(\"\")\r\n    const [Hall, setHall] = useState(\"--Select Hall--\")\r\n    const [quantity, setquantity] = useState(250)\r\n    const [Food, setFood] = useState('--Select Food Item--')\r\n    // const [ontop, setontop] = useState([])\r\n    // const [Total, setTotal] = useState(\"\")\r\n    // const [Things, setThings] = useState([])\r\n    var current = new Date();\r\n    useEffect(() => {\r\n        if (quantity < 250 || quantity > 500) {\r\n            setquantity(quantity)\r\n        }\r\n        // setstate(state => ({ ...state, Food: Food }))\r\n        // setstate(state => ({ ...state, Hall: Hall }))\r\n        // setstate(state => ({ ...state, Date: current.toLocaleDateString() }))\r\n        // setstate(state => ({ ...state, Time: current.toLocaleTimeString() }))\r\n        // setstate(state => ({ ...state, Price: quantity }))\r\n        // setstate(state => ({ ...state, addons: ontop }) )\r\n    }, [quantity])\r\n    const writ = (e) => {\r\n        setstate(state => ({ ...state, [e.target.name]: e.target.value }))\r\n    }\r\n    const in_ds = (sign, i) => {\r\n        let newArr = [...tops]\r\n        if (newArr[i].number < 10) {\r\n            if (sign === \"+\") {\r\n                newArr[i].number = newArr[i].number + 1\r\n                newArr[i].newprice = newArr[i].price * newArr[i].number;\r\n            } else {\r\n                newArr[i].number = newArr[i].number - 1\r\n                newArr[i].newprice = newArr[i].price * newArr[i].number;\r\n            }\r\n            settops(newArr)\r\n        }\r\n    }\r\n    const submit = () => {\r\n        setstate(state => ({ ...state, Food: Food }))\r\n        const { Name, Room, Phone } = state\r\n        let condition = (Name === undefined || Phone === undefined || Room === undefined || Name.trim() === '' || Phone.trim() === '' || Room.trim() === '');\r\n        if (condition) {\r\n            setmsg(<Message message=\"Please fill in the fields\" status=\"error\" />)\r\n        } else {\r\n            setmsg(<Message message=\"Order added to bag\" status=\"success\" />)\r\n            settops(tops.filter(x => (x.number !== 0))) \r\n            alert(tops.length)\r\n            // let value = [quantity,Food,Hall,ontop,current.toLocaleDateString() ]\r\n            // value.forEach(element => {\r\n            //     setThings([...Things,element])\r\n            let value = {\r\n                Name: Name,\r\n                Phone: Phone,\r\n                Price : quantity,\r\n                Room: Room,\r\n                Hall:Hall,\r\n                Food : Food,\r\n                Date : current.toLocaleDateString(),\r\n                Time :current.toLocaleTimeString(),\r\n                addons : tops\r\n            }\r\n            // });\r\n            console.log(value);\r\n            dispatch(sendItem(value))\r\n            dispatch(addToOrderBag(value))\r\n            window.location.assign(\"/confirm\")\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"bg-light\">\r\n            <Navbar />\r\n            <div className=\"container position-relative\">\r\n                <div action=\"\" className=\"col-lg-6 m-auto p-2 border position-relative bg-white\">\r\n                    <div className=\"h3 text-center\">Complete this form to place your order {state.Date}  {state.Time} </div>\r\n                    <div className=\"\">\r\n                        Make orders with us and get your order under 1 hour\r\n                    </div>\r\n                    <div className=\"\">{msg}</div>\r\n                    <div className=\"\">\r\n                        <input type=\"text\" className=\"input my-2 rounded py-1 px-2 border\" placeholder=\"Name\" value={state.Name} name=\"Name\" onChange={(e) => { writ(e) }} />\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <input type=\"tel\" className=\"input my-2 rounded py-1 px-2 border\" placeholder=\"Phone\" value={state.Phone} name=\"Phone\" onChange={(e) => { writ(e) }} />\r\n                    </div>\r\n\r\n                    <div className=\"w-shk border text-center  my-1 mx-auto\" style={{ right: \"2%\" }}>\r\n                        <div className=\"border-bottom\">{Hall} Room {state.Room}</div>\r\n                        <div className=\"d-flex\">\r\n                            <div className=\"m-auto w-50\">\r\n                                {Halls.map((x,i )=> {\r\n                                    return (\r\n                                        <div onClick={() => { setHall(x + \" Hall\") }} className={`text-center px-2 bg-${Hall === x + \" Hall\" ? \"success\" : \"white\"}`} key={i}\r\n                                            style={{ cursor: \"pointer\", zIndex: \"100\" }}>{x}  Hall  </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            <div className=\"m-auto w-25\"> Room\r\n                                <input type=\"number\" className=\"input my-2 rounded py-1 px-2 border\" max=\"500\" placeholder=\"Rm No.\" value={state.Room} name=\"Room\" onChange={(e) => { writ(e) }} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"posotion-relative w-shk border my-1 mx-auto text-center\">\r\n                        {Food} &#x20A6;{quantity} <hr />\r\n                        <div className=\"d-flex\">\r\n                            <div className=\"m-auto w-50\">\r\n                                {food.map((x,i) => {\r\n                                    return (\r\n                                        <div onClick={() => { setFood(x) }} className={`text-center px-2 bg-${Food === x ? \"success\" : \"white\"}`} key={i}\r\n                                            style={{ cursor: \"pointer\", zIndex: \"100\" }}>{x}  </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            <div className=\"border m-2  d-flex\" style={{ height: \"30px\" }}>\r\n                                Price :\r\n                                <div className=\"px-2 h-100\" style={{ cursor: 'pointer' }} onClick={() => {\r\n                                    if (quantity > 250) {\r\n                                        setquantity(quantity - 50)\r\n                                    }\r\n                                }}>-</div>\r\n                                <div className=\"px-1\">\r\n                                    {quantity}\r\n                                </div>\r\n                                <div className=\"px-2 h-100\" style={{ cursor: 'pointer' }} onClick={() => {\r\n                                    if (quantity < 600) {\r\n                                        setquantity(quantity + 50)\r\n                                    }\r\n                                }}>+</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"posotion-relative w-shk border my-1 mx-auto text-center p-2\">\r\n                        <div>\r\n                            {tops.map(({ top, price, number, newprice }, i) => {\r\n                                return (\r\n                                    <div className=\"d-flex mt-1 w-100\" style={{ height: \"40px\" }} key={i}>\r\n                                    <input type=\"hidden\" name=\"Food\" value={state.Food} onChange={(e)=>{writ(e)}}/>\r\n                                        <div className=\"w-50 pt-2\">{top} &#x20A6;{price} | &#x20A6;{newprice} </div>\r\n                                        <div className=\"w-50 d-flex  pt-2\">\r\n                                            <div className=\"px-2 border ml-1\" style={{ cursor: \"pointer\" }} onClick={() => { in_ds(\"-\", i) }}>-</div>\r\n                                            <div className='border-top border-bottom px-2'>{number}</div>\r\n                                            <div className=\"px-2 border mr-1\" style={{ cursor: \"pointer\" }} onClick={() => { in_ds(\"+\", i) }}>+</div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })} \r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: \"100%\", textAlign: \"center\" }}>\r\n                        <button className=\"btn border btn-success\" onClick={() => { submit() }}> Place Order</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Order;"]},"metadata":{},"sourceType":"module"}