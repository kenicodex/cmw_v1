{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\mobile waiter\\\\frontend\\\\src\\\\Components\\\\Confirm\\\\paystack.js\";\nimport React from 'react';\nimport { usePaystackPayment } from 'react-paystack';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Pay(props) {\n  var _s = $RefreshSig$();\n\n  const config = {\n    reference: new Date().getTime(),\n    email: \"user@example.com\",\n    amount: props.a * 100,\n    publicKey: 'pk_live_da4904115764c17480712876b051bb0352baa58b'\n  };\n\n  for (let i = 0; i < props.bag.length; i++) {\n    const element = props.bag[i]; // console.log(element.addons[0].filter(x => x !== 0));\n\n    fetch('', {\n      method: \"post\",\n      body: JSON.stringify(element),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n\n  const onSuccess = reference => {\n    fetch('', {\n      method: \"post\",\n      body: \"\",\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(res => res.data);\n  };\n\n  const onClose = () => {};\n\n  const PaystackHookExample = props => {\n    _s();\n\n    const initializePayment = usePaystackPayment(config);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => {\n          initializePayment(onSuccess, onClose);\n        },\n        children: [\"Complete Order \", props.a, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this);\n  };\n\n  _s(PaystackHookExample, \"YNUHNpL7e5B7w6wSn5JlrU0jBvo=\", false, function () {\n    return [usePaystackPayment];\n  });\n\n  localStorage.setItem(\"amount\", props.a);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(PaystackHookExample, {\n      a: props.a\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Pay;\nexport default Pay;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pay\");","map":{"version":3,"sources":["C:/Users/PC/Desktop/mobile waiter/frontend/src/Components/Confirm/paystack.js"],"names":["React","usePaystackPayment","Pay","props","config","reference","Date","getTime","email","amount","a","publicKey","i","bag","length","element","fetch","method","body","JSON","stringify","headers","onSuccess","then","res","json","data","onClose","PaystackHookExample","initializePayment","localStorage","setItem"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,QAAmC,gBAAnC;;;AAEA,SAASC,GAAT,CAAaC,KAAb,EAAoB;AAAA;;AAChB,QAAMC,MAAM,GAAG;AACXC,IAAAA,SAAS,EAAG,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EADA;AAEXC,IAAAA,KAAK,EAAE,kBAFI;AAGXC,IAAAA,MAAM,EAAEN,KAAK,CAACO,CAAN,GAAU,GAHP;AAIXC,IAAAA,SAAS,EAAE;AAJA,GAAf;;AAMA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,KAAK,CAACU,GAAN,CAAUC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AACvC,UAAMG,OAAO,GAAGZ,KAAK,CAACU,GAAN,CAAUD,CAAV,CAAhB,CADuC,CAEvC;;AACAI,IAAAA,KAAK,CAAC,EAAD,EAAK;AACNC,MAAAA,MAAM,EAAE,MADF;AAENC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,OAAf,CAFA;AAGNM,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAHH,KAAL,CAAL;AAKH;;AACD,QAAMC,SAAS,GAAIjB,SAAD,IAAe;AAE7BW,IAAAA,KAAK,CAAC,EAAD,EAAK;AACNC,MAAAA,MAAM,EAAE,MADF;AAENC,MAAAA,IAAI,EAAE,EAFA;AAGNG,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAHH,KAAL,CAAL,CAKKE,IALL,CAKUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EALjB,EAMKF,IANL,CAMUC,GAAG,IAAIA,GAAG,CAACE,IANrB;AAOH,GATD;;AAUA,QAAMC,OAAO,GAAG,MAAM,CACrB,CADD;;AAGA,QAAMC,mBAAmB,GAAIzB,KAAD,IAAW;AAAA;;AACnC,UAAM0B,iBAAiB,GAAG5B,kBAAkB,CAACG,MAAD,CAA5C;AACA,wBACI;AAAA,6BACI;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,OAAO,EAAE,MAAM;AAC/CyB,UAAAA,iBAAiB,CAACP,SAAD,EAAYK,OAAZ,CAAjB;AACH,SAFD;AAAA,sCAEmBxB,KAAK,CAACO,CAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAOH,GATD;;AA7BgB,KA6BVkB,mBA7BU;AAAA,YA8Bc3B,kBA9Bd;AAAA;;AAuChB6B,EAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+B5B,KAAK,CAACO,CAArC;AACA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACI,QAAC,mBAAD;AAAqB,MAAA,CAAC,EAAEP,KAAK,CAACO;AAA9B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;KA7CQR,G;AA+CT,eAAeA,GAAf","sourcesContent":["import React from 'react';\r\nimport { usePaystackPayment } from 'react-paystack';\r\n\r\nfunction Pay(props) {\r\n    const config = {\r\n        reference: (new Date()).getTime(),\r\n        email: \"user@example.com\",\r\n        amount: props.a * 100,\r\n        publicKey: 'pk_live_da4904115764c17480712876b051bb0352baa58b',\r\n    };\r\n    for (let i = 0; i < props.bag.length; i++) {\r\n        const element = props.bag[i];\r\n        // console.log(element.addons[0].filter(x => x !== 0));\r\n        fetch('', {\r\n            method: \"post\",\r\n            body: JSON.stringify(element),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        })\r\n    }\r\n    const onSuccess = (reference) => {\r\n\r\n        fetch('', {\r\n            method: \"post\",\r\n            body: \"\",\r\n            headers: { 'Content-Type': 'application/json' }\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => res.data)\r\n    };\r\n    const onClose = () => {\r\n    }\r\n\r\n    const PaystackHookExample = (props) => {\r\n        const initializePayment = usePaystackPayment(config);\r\n        return (\r\n            <div >\r\n                <button className=\"btn btn-success\" onClick={() => {\r\n                    initializePayment(onSuccess, onClose)\r\n                }}>Complete Order {props.a} </button>\r\n            </div>\r\n        );\r\n    };\r\n    localStorage.setItem(\"amount\", props.a)\r\n    return (\r\n        <div className=\"App\">\r\n            <PaystackHookExample a={props.a} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pay;"]},"metadata":{},"sourceType":"module"}